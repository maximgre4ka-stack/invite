/* ================= VARIABLES ================= */
:root{
  --primary:#DDE6D8;
  --bg:#FAFBF8;
  --accent:#8FA896;
  --text:#3E4A42;
  --radius:18px;
  --shadow:0 14px 36px rgba(0,0,0,.12);
}

/* ================= BASE ================= */
*{box-sizing:border-box;}
html{scroll-behavior:smooth;}
body{
  margin:0;
  font-family:'Montserrat',sans-serif;
  background:var(--bg);
  color:var(--text);
}
.container{max-width:980px;margin:0 auto;padding:0 18px;}
h1,h2,h3{font-family:'Cormorant Garamond',serif;}
h2{font-size:clamp(32px,4vw,46px);}
p{line-height:1.65;}
.lead{font-size:18px;}
.muted{opacity:.75;}
.small{font-size:13px;}

/* ================= HERO ================= */
.hero-wrap{
  height:100vh;
  position:relative;
  overflow:hidden;
}

.hero{
  position:relative;
  height:100vh;
  display:flex;
  align-items:center;
  padding:clamp(20px,5vw,64px);
  overflow:hidden;
  background:#000;
  transition:opacity 0.6s ease-out, transform 0.6s ease-out;
  opacity:1; /* Изначально полностью видим */
}

.hero__bg{
  position:absolute;
  inset:0;
  z-index:0;
  background:url("assets/img/hero.jpg") right bottom/cover no-repeat;
  transform:scale(1.03);
  will-change:transform;
}

.hero__overlay{
  position:absolute;
  inset:0;
  z-index:1;
  background:linear-gradient(90deg,
    rgba(221,230,216,.9),
    rgba(221,230,216,.4) 55%,
    rgba(221,230,216,.05));
}

.hero__grain{
  position:absolute;
  inset:0;
  z-index:1;
  opacity:.12;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.4'/%3E%3C/svg%3E");
}

.hero__content{
  position:relative;
  max-width:560px;
  background:rgba(250,251,248,.55);
  backdrop-filter:blur(10px);
  border-radius:22px;
  padding:32px;
  box-shadow:var(--shadow);
  border:1px solid rgba(143,168,150,.3);
  will-change:transform,opacity;
  transition:transform 0.6s ease-out, opacity 0.6s ease-out;
  color:var(--text);
  z-index:2;
}
.hero__content--contrast{
  background:linear-gradient(180deg,rgba(250,251,248,.86),rgba(250,251,248,.7));
  box-shadow:0 18px 40px rgba(0,0,0,.16);
  border:1px solid rgba(143,168,150,.4);
}
.hero__content--contrast .names,
.hero__content--contrast .date,
.hero__content--contrast .countdown-title{
  text-shadow:0 1px 8px rgba(250,251,248,.65);
}

.kicker{
  letter-spacing:.2em;
  text-transform:uppercase;
  font-size:13px;
  color:var(--text);
}

.names{
  font-style:italic;
  font-weight:600;
  font-size:clamp(40px,6.5vw,82px);
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  color:var(--text);
  margin:0;
}

.date{
  font-style:italic;
  font-size:clamp(18px,2.4vw,28px);
  margin-bottom:16px;
  color:var(--text);
}

.countdown-title{
  color:var(--text);
  margin-bottom:12px;
  font-size:14px;
}
.hero-progress{
  height:6px;
  border-radius:999px;
  background:rgba(143,168,150,.2);
  overflow:hidden;
  margin:10px 0 14px;
  border:1px solid rgba(143,168,150,.35);
}
.hero-progress__bar{
  display:block;
  height:100%;
  width:0%;
  border-radius:inherit;
  background:linear-gradient(90deg,#7f9f8a,#a7bdaa);
  transition:width 0.4s ease;
}

.countdown{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:10px;
}
.tile{
  background:rgba(221,230,216,.6);
  border-radius:var(--radius);
  padding:10px;
  text-align:center;
}
.num{
  font-family:'Cormorant Garamond',serif;
  font-size:28px;
  color:var(--text);
}
.lbl{
  font-size:12px;
  opacity:.7;
  color:var(--text);
}

.btn{
  width:100%;
  margin-top:14px;
  padding:12px;
  border-radius:999px;
  border:none;
  background:var(--accent);
  color:#fff;
  font-family:inherit;
  font-size:16px;
  font-weight:500;
  cursor:pointer;
  transition:background 0.3s ease, opacity 0.3s ease, cursor 0.3s ease;
}
.btn:hover:not(:disabled){
  background:#7a9682;
}
.btn:disabled{
  background:#b8c2b2;
  opacity:0.5;
  cursor:not-allowed;
}

/* ================= SECTIONS ================= */
.section{
  padding:70px 0;
  opacity:0;
  transform:translateY(18px) scale(.97);
  filter:blur(6px);
  transition:opacity 0.8s ease, transform 0.8s ease, filter 0.3s ease;
  will-change:filter,opacity;
  --blur-amount:0px;
}
.section.is-visible{
  opacity:1;
  transform:none;
  filter:blur(var(--blur-amount, 0px));
}

.section .container{
  background:rgba(250,251,248,.8);
  border:1px solid rgba(143,168,150,.25);
  border-radius:var(--radius);
  padding:26px;
}

.cards{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:18px;
}
.card{
  background:rgba(221,230,216,.35);
  border-radius:var(--radius);
  padding:24px;
  border:1px solid rgba(143,168,150,.2);
  transition:transform 0.3s ease, box-shadow 0.3s ease;
  min-height:140px;
  display:flex;
  flex-direction:column;
}
.card--clickable{
  cursor:pointer;
  position:relative;
}
.card--clickable:focus-visible{
  outline:3px solid rgba(143,168,150,.55);
  outline-offset:3px;
}
.card-icon{
  position:absolute;
  top:16px;
  right:18px;
  font-size:18px;
  opacity:.75;
}
.card--expandable .card__map{
  margin-top:0;
  max-height:0;
  opacity:0;
  overflow:hidden;
  transition:max-height 0.4s ease, opacity 0.35s ease, margin-top 0.35s ease;
  border-radius:14px;
  border:1px solid rgba(143,168,150,.2);
  background:rgba(250,251,248,.85);
}
.card--expandable.is-open .card__map{
  margin-top:16px;
  max-height:520px;
  opacity:1;
}
.card__map iframe{
  display:block;
  width:100%;
  border:0;
  height:360px;
}
.card:hover{
  transform:translateY(-2px);
  box-shadow:0 8px 20px rgba(0,0,0,.1);
}
.card h3{
  font-family:'Cormorant Garamond',serif;
  font-size:22px;
  font-weight:600;
  color:var(--text);
  margin:0 0 12px 0;
}
.card p{
  margin:8px 0;
  color:var(--text);
}
.card strong{
  color:var(--text);
  font-weight:500;
}

.calendar-btn{
  display:inline-flex;
  align-items:center;
  gap:8px;
  margin-top:12px;
  padding:10px 16px;
  background:rgba(143,168,150,.2);
  border:1px solid rgba(143,168,150,.3);
  border-radius:12px;
  color:var(--text);
  text-decoration:none;
  font-size:14px;
  transition:all 0.3s ease;
  cursor:pointer;
}
.calendar-btn:hover{
  background:rgba(143,168,150,.3);
  border-color:rgba(143,168,150,.5);
  transform:translateY(-1px);
}
.calendar-btn span{
  font-size:16px;
}

.form-embed{
  margin-top:14px;
  border:1px dashed rgba(143,168,150,.4);
  border-radius:var(--radius);
}

/* ================= EVENT PLAN ================= */
.event-plan-grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:18px;
  margin-top:24px;
}

.event-plan-item{
  position:relative;
  background:rgba(221,230,216,.35);
  border-radius:var(--radius);
  padding:24px;
  min-height:120px;
  display:flex;
  align-items:flex-start;
  border:1px solid rgba(143,168,150,.2);
  transition:transform 0.3s ease, box-shadow 0.3s ease;
}

.event-plan-item:hover{
  transform:translateY(-2px);
  box-shadow:0 8px 20px rgba(0,0,0,.1);
}

.event-plan-item h3{
  font-family:'Cormorant Garamond',serif;
  font-size:22px;
  font-weight:600;
  color:var(--text);
  margin:0;
  flex:1;
  padding-right:60px;
}

.event-time{
  position:absolute;
  bottom:16px;
  right:20px;
  font-size:16px;
  font-weight:500;
  color:var(--accent);
  font-family:'Montserrat',sans-serif;
  opacity:0.85;
}

@media (max-width:820px){
  .event-plan-grid{
    grid-template-columns:1fr;
    gap:14px;
  }
  
  .event-plan-item{
    min-height:100px;
    padding:20px;
  }
  
  .event-plan-item h3{
    font-size:20px;
    padding-right:70px;
  }
  
  .event-time{
    font-size:15px;
    bottom:14px;
    right:16px;
  }
}

.section--final{
  background:linear-gradient(180deg,rgba(221,230,216,.25),var(--bg));
}

.sign{font-size:18px;margin-top:16px;}

.footer{padding:40px 0;}

/* ================= MOBILE ================= */
@media (max-width:820px){

  .hero-wrap{ 
    height: auto;
    min-height: 100vh;
  }

  .hero{
    position: relative;
    min-height: 100vh;
    height: auto;
    display: flex;
    flex-direction: column;
    padding: 0;
    background: var(--bg);
    overflow: visible;
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }

  .hero__bg,.hero__overlay,.hero__grain{ display:none; }

  /* Фото сверху: адаптивная высота через clamp */
  .hero__photo{
    display:block;
    width:100%;

    height: clamp(240px, 42svh, 520px); /* гибко под разные экраны */
    min-height: 220px;

    background: url("assets/img/hero.jpg") 70% 35%/cover no-repeat;
    position:relative;
    flex: 0 0 auto;
  }

  .hero__photo::after{
    content:"";
    position:absolute; inset:0;
    background: linear-gradient(
      180deg,
      rgba(221,230,216,.05) 0%,
      rgba(221,230,216,.14) 60%,
      rgba(250,251,248,.96) 100%
    );
  }

  /* Контент под фото: тоже может быть выше */
  .hero__content{
    flex: 1 1 auto;
    width:100%;
    max-width:none;

    border-radius:0;
    box-shadow:none;
    border:none;

    background: var(--bg);
    backdrop-filter:none;

    padding: 16px 18px 20px;
    transition: transform 0.6s ease-out, opacity 0.6s ease-out;
  }

  /* Таймер 2x2 */
  .countdown{
    grid-template-columns: repeat(2, 1fr);
  }
  
  /* Кнопка календаря на мобильных */
  .calendar-btn{
    width:100%;
    justify-content:center;
    padding:12px 16px;
    font-size:15px;
  }
  
  /* Блоки "Когда" и "Где" в одну колонку на мобильных */
  .cards{
    grid-template-columns:1fr;
    gap:14px;
  }
  
  .card{
    min-height:120px;
    padding:20px;
  }

  .card__map iframe{
    height:300px;
  }
  
  .card h3{
    font-size:20px;
    margin-bottom:10px;
  }

  /* Если совсем маленькая высота экрана (горизонтально) — уменьшаем фото */
  @media (max-height: 520px){
    .hero__photo{
      height: clamp(180px, 34svh, 320px);
    }
    .names{
      font-size: clamp(34px, 9vw, 54px);
    }
  }
}

/* ================= PALM DECOR (MAIN ONLY) ================= */

main{
  position: relative; /* чтобы декор позиционировался относительно main */
  padding-top: 40px;
  animation: fadeInUp 1s ease-out 0.3s both;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* слой декора под секциями */
.decor-palms{
  position: absolute;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  overflow: hidden;
}

/* контент секций выше декора */
.section{
  position: relative;
  z-index: 1;
}

/* общий стиль ветви */
.decor-palms .palm{
  position: absolute;
  width: 360px;
  height: 180px;

  background: url("assets/svg/palm.svg") no-repeat center / contain;
  color: #B8C2B2;      /* работает с currentColor в svg */
  opacity: 0.28;

  filter: blur(0px);
  transform-origin: center;
}

/* Раскладка: хаотично, разные углы/масштабы */
.decor-palms .p1{ top: 6%;  left: -90px; transform: rotate(-18deg) scale(0.95); }
.decor-palms .p2{ top: 18%; right:-110px; transform: rotate(22deg) scale(1.05); }
.decor-palms .p3{ top: 38%; left: -120px; transform: rotate(-10deg) scale(1.12); }
.decor-palms .p4{ top: 52%; right:-130px; transform: rotate(14deg) scale(0.92); }
.decor-palms .p5{ top: 70%; left: -100px; transform: rotate(-24deg) scale(1.00); }
.decor-palms .p6{ top: 84%; right:-90px; transform: rotate(10deg) scale(1.10); }
.decor-palms .p7{ top: 12%; left: 6%; transform: rotate(18deg) scale(0.75); }
.decor-palms .p8{ top: 26%; right: 8%; transform: rotate(-14deg) scale(0.82); }
.decor-palms .p9{ top: 44%; left: 12%; transform: rotate(26deg) scale(0.88); }
.decor-palms .p10{ top: 60%; right: 14%; transform: rotate(-20deg) scale(0.78); }
.decor-palms .p11{ top: 76%; left: 18%; transform: rotate(12deg) scale(0.85); }
.decor-palms .p12{ top: 90%; right: 6%; transform: rotate(-8deg) scale(0.9); }

/* Мобильная оптимизация: меньше, чуть спокойнее, но всё равно >2 */
@media (max-width: 820px){
  .decor-palms .palm{
    width: 260px;
    height: 130px;
    opacity: 0.22;
  }

  .decor-palms .p1{ top: 10%; left: -80px;  transform: rotate(-16deg) scale(1.00); }
  .decor-palms .p2{ top: 32%; right:-90px;  transform: rotate(18deg)  scale(0.98); }
  .decor-palms .p3{ top: 55%; left: -90px;  transform: rotate(-8deg)  scale(1.05); }
  .decor-palms .p4{ top: 78%; right:-80px;  transform: rotate(12deg)  scale(1.02); }
  .decor-palms .p7{ top: 16%; left: 4%; transform: rotate(14deg) scale(0.72); }
  .decor-palms .p8{ top: 40%; right: 6%; transform: rotate(-12deg) scale(0.75); }
  .decor-palms .p9{ top: 64%; left: 10%; transform: rotate(20deg) scale(0.8); }
  .decor-palms .p10{ top: 86%; right: 10%; transform: rotate(-16deg) scale(0.76); }

  /* оставляем 4 ветви на мобиле — всё равно >2 */
  /* .decor-palms .p5,
  .decor-palms .p6{
    display:none;
  } */
}
/* ================= RSVP IFRAME ================= */

.form-embed{
  margin-top: 14px;
  border-radius: var(--radius);
  overflow: hidden;
  border: 1px solid rgba(143,168,150,.20);
  background: rgba(250,251,248,.6);
  box-shadow: 0 10px 26px rgba(0,0,0,.08);
}

/* iframe занимает всю ширину, без горизонтального скролла */
.rsvp-iframe{
  width: 1px;          /* трюк для корректной 100% ширины во всех браузерах */
  min-width: 100%;
  height: 1110px;      /* как у тебя в оригинале */
  border: 0;
  display: block;
}

/* на мобиле часто нужно чуть больше высоты */
@media (max-width: 820px){
  .rsvp-iframe{
    height: 1220px;
  }
}

/* ================= RSVP TIMER ================= */
.rsvp-timer{
  margin-top: 20px;
  margin-bottom: 24px;
  padding: 20px;
  background: rgba(221,230,216,.25);
  border-radius: var(--radius);
  border: 1px solid rgba(143,168,150,.2);
  text-align: center;
}

.rsvp-timer-title{
  font-size: 14px;
  margin-bottom: 12px;
  opacity: 0.8;
  font-weight: 500;
}

.rsvp-countdown{
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
}

.rsvp-tile{
  background: rgba(250,251,248,.7);
  border-radius: 14px;
  padding: 10px 8px;
  text-align: center;
  border: 1px solid rgba(143,168,150,.15);
}

.rsvp-num{
  font-family: 'Cormorant Garamond', serif;
  font-size: 24px;
  font-weight: 600;
  color: var(--accent);
  line-height: 1.2;
}

.rsvp-lbl{
  font-size: 11px;
  opacity: 0.7;
  margin-top: 4px;
}

@media (max-width: 820px){
  .rsvp-countdown{
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
  }
  .rsvp-timer{
    padding: 16px;
  }
}

/* ================= RSVP FORM ================= */
.rsvp-form{
  margin-top: 14px;
  display: grid;
  gap: 14px;
}

.field{ display:grid; gap:8px; }

.label{
  font-size: 13px;
  letter-spacing: .06em;
  text-transform: uppercase;
  opacity: .8;
}

.input{
  width: 100%;
  padding: 12px 14px;
  border-radius: 14px;
  border: 1px solid rgba(143,168,150,.30);
  background: rgba(250,251,248,.85);
  font-family: inherit;
  font-size: 16px;
  color: var(--text);
  outline: none;
}
.input:focus{
  border-color: rgba(143,168,150,.65);
  box-shadow: 0 0 0 4px rgba(143,168,150,.18);
}

.fieldset{
  border: 1px solid rgba(143,168,150,.25);
  background: rgba(221,230,216,.18);
  border-radius: var(--radius);
  padding: 14px;
  margin: 0;
}

.legend{
  font-family: 'Cormorant Garamond', serif;
  font-style: italic;
  font-size: 20px;
  margin-bottom: 10px;
}

.check{
  display:flex;
  gap: 10px;
  align-items:center;
  padding: 8px 8px;
  border-radius: 12px;
}
.check input{ transform: translateY(1px); }
.check:hover{ background: rgba(221,230,216,.25); }

#rsvpStatus{ min-height: 18px; }

/* ===== Alcohol: Other input ===== */
.input--inline{
  display: none;
  margin-top: 8px;
}

.input--inline.is-visible{
  display: block;
}
